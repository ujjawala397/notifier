(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{7689:(e,t,s)=>{Promise.resolve().then(s.bind(s,3289))},8508:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var n=s(5155),a=s(2115);function l(e){let{value:t,onChange:s,length:l}=e,r=(0,a.useRef)([]);(0,a.useEffect)(()=>{r.current[0]&&r.current[0].focus()},[]);let i=(e,n)=>{if(!/^\d*$/.test(n))return;let a=t.split("");if(a[e]=n,s(a.join("").slice(0,l)),n&&e<l-1){var i;null===(i=r.current[e+1])||void 0===i||i.focus()}},o=(e,s)=>{if("Backspace"===s.key&&!t[e]&&e>0){var n;null===(n=r.current[e-1])||void 0===n||n.focus()}},c=e=>{var t;e.preventDefault();let n=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,l);s(n);let a=Math.min(n.length,l-1);null===(t=r.current[a])||void 0===t||t.focus()};return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),(0,n.jsx)("div",{className:"flex gap-3 justify-center",children:Array.from({length:l},(e,s)=>(0,n.jsx)("input",{ref:e=>{r.current[s]=e},type:"text",inputMode:"numeric",maxLength:1,value:t[s]||"",onChange:e=>i(s,e.target.value),onKeyDown:e=>o(s,e),onPaste:c,className:"w-12 h-12 text-center text-lg font-semibold border-2 border-gray-200 !rounded-button focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},s))})]})}},4653:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var n=s(5155),a=s(2115);function l(e){var t;let{value:s,onChange:l,placeholder:r}=e,[i,o]=(0,a.useState)("+1"),[c,d]=(0,a.useState)(!1),u=[{code:"+1",name:"US",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"+44",name:"UK",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"+91",name:"IN",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"+86",name:"CN",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"+81",name:"JP",flag:"\uD83C\uDDEF\uD83C\uDDF5"}];return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{type:"button",onClick:()=>d(!c),className:"flex items-center px-3 py-3 border border-r-0 border-gray-200 bg-gray-50 !rounded-button rounded-r-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,n.jsx)("span",{className:"mr-2",children:null===(t=u.find(e=>e.code===i))||void 0===t?void 0:t.flag}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:i}),(0,n.jsx)("i",{className:"ri-arrow-down-s-line text-gray-500 ml-1"})]}),c&&(0,n.jsx)("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 !rounded-button shadow-lg z-10",children:u.map(e=>(0,n.jsxs)("button",{type:"button",onClick:()=>{o(e.code),d(!1)},className:"w-full flex items-center px-3 py-2 hover:bg-gray-50 text-left",children:[(0,n.jsx)("span",{className:"mr-3",children:e.flag}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.code}),(0,n.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:e.name})]},e.code))})]}),(0,n.jsx)("input",{type:"tel",value:s,onChange:e=>{l(e.target.value.replace(/\D/g,""))},placeholder:r||"Enter phone number",className:"flex-1 px-4 py-3 border border-gray-200 !rounded-button rounded-l-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",maxLength:15})]}),c&&(0,n.jsx)("div",{className:"fixed inset-0 z-5",onClick:()=>d(!1)})]})]})}},3289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(5155),a=s(2115),l=s(8173),r=s.n(l),i=s(4653),o=s(8508);function c(){let[e,t]=(0,a.useState)("phone"),[s,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[x,f]=(0,a.useState)(0),[h,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(x>0){let e=setTimeout(()=>f(x-1),1e3);return()=>clearTimeout(e)}"otp"===e&&0===x&&b(!0)},[x,e]);let g=async()=>{m(!0),setTimeout(()=>{m(!1),t("otp"),f(30),b(!1),console.log("Sending OTP to ".concat(s))},1500)},p=async()=>{s&&!(s.length<10)&&await g()},j=async()=>{h&&!u&&(m(!0),d(""),setTimeout(()=>{m(!1),f(30),b(!1),console.log("Resending OTP to ".concat(s))},1e3))},N=async()=>{6===c.length&&(m(!0),setTimeout(()=>{m(!1),window.location.href="/"},1500))};return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[(0,n.jsx)("div",{className:"bg-white shadow-sm",children:(0,n.jsxs)("div",{className:"max-w-sm mx-auto px-4 py-4 flex items-center",children:[(0,n.jsx)(r(),{href:"/",className:"w-6 h-6 flex items-center justify-center mr-3",children:(0,n.jsx)("i",{className:"ri-arrow-left-line text-xl text-gray-700"})}),(0,n.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Sign In"})]})}),(0,n.jsxs)("div",{className:"flex-1 max-w-sm mx-auto w-full px-4 py-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)("i",{className:"ri-smartphone-line text-3xl text-white"})}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,n.jsx)("p",{className:"text-gray-600",children:"phone"===e?"Enter your mobile number to continue":"Enter the verification code sent to your phone"})]}),"phone"===e?(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)(i.A,{value:s,onChange:l,placeholder:"Enter your mobile number"}),(0,n.jsx)("button",{onClick:p,disabled:!s||s.length<10||u,className:"w-full !rounded-button bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-4 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending Code..."]}):"Send Verification Code"})]}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Code sent to ",(0,n.jsx)("span",{className:"font-semibold",children:s})]}),(0,n.jsx)("button",{onClick:()=>t("phone"),className:"text-blue-600 text-sm font-medium",children:"Change number"})]}),(0,n.jsx)(o.A,{value:c,onChange:d,length:6}),(0,n.jsx)("button",{onClick:N,disabled:6!==c.length||u,className:"w-full !rounded-button bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-4 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Verifying..."]}):"Verify & Sign In"}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsxs)("button",{onClick:j,disabled:!h||u,className:"text-gray-600 text-sm disabled:opacity-50",children:["Didn't receive code?"," ",h?(0,n.jsx)("span",{className:"text-blue-600 font-medium",children:u?"Sending...":"Resend"}):(0,n.jsxs)("span",{className:"text-gray-400",children:["Resend in ",x,"s"]})]})})]}),(0,n.jsx)("div",{className:"mt-8 text-center",children:(0,n.jsxs)("p",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",(0,n.jsx)(r(),{href:"/auth/register",className:"text-blue-600 font-medium",children:"Sign Up"})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,441,517,358],()=>t(7689)),_N_E=e.O()}]);